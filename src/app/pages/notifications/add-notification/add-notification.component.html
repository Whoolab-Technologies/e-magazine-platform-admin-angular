<div class="notification">
    <mat-card class="students-table">
        <div class="header-item">
            <div class="item">
                <div class="field-label">Select Class</div>
                <mat-select [(value)]="class" (selectionChange)="changeClass()">
                    <ng-container *ngFor="let option of classes$|async">
                        <mat-option [value]="option.id">{{option.name}}</mat-option>
                    </ng-container>
                </mat-select>

            </div>
        </div>

        <mat-card-content class="students-table__content">

            <table mat-table [dataSource]="dataSource" class="students-table__table">
                <ng-container matColumnDef="select">
                    <th mat-header-cell *matHeaderCellDef>
                        <mat-checkbox (change)="$event ? toggleAllRows() : null"
                            [checked]="selection.hasValue() && isAllSelected()"
                            [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
                        </mat-checkbox>
                    </th>
                    <td mat-cell *matCellDef="let row">
                        <mat-checkbox (click)="$event.stopPropagation()"
                            (change)="$event ? selection.toggle(row.id) : null" [checked]="selection.isSelected(row.id)"
                            [aria-label]="checkboxLabel(row)">
                        </mat-checkbox>
                    </td>
                </ng-container>
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef> Name</th>
                    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                </ng-container>

                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef> Email</th>
                    <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                </ng-container>
                <ng-container matColumnDef="class">
                    <th mat-header-cell *matHeaderCellDef> Class</th>
                    <td mat-cell *matCellDef="let element"> {{element.class}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="pageSizeOptions" showFirstLastButtons></mat-paginator>
            <ng-container *ngIf="!dataSource.data || !dataSource.data.length">
                <div class="students-table__content__no-content ">
                    No data found
                </div>
            </ng-container>
            <div class="notification-form">
                <div fxLayout="row wrap" fxLayoutAlign="space-between center" fxLayoutGap="5">
                    <div fxFlex="100">
                        <mat-form-field appearance='outline'>
                            <mat-label> Title </mat-label>
                            <input matInput placeholder="Title" [(ngModel)]="notification.title" required>

                        </mat-form-field>
                    </div>

                    <div fxFlex="100">
                        <mat-form-field appearance='outline'>
                            <mat-label>Message</mat-label>
                            <textarea matInput [(ngModel)]="notification.message" cdkTextareaAutosize
                                #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" cdkAutosizeMaxRows="5"
                                required></textarea>
                        </mat-form-field>
                    </div>
                    <div fxFlex="100">
                        <div class="notification-form__submit">
                            <button mat-flat-button color="primary" (click)="createNotification()"
                                [disabled]="disableBtn">Create</button>
                        </div>
                    </div>

                </div>

            </div>
        </mat-card-content>
    </mat-card>
</div>